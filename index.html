<!DOCTYPE html>
<html>
<head>
<style>
/* Add a black background color to the top navigation */
.topnav {
  background-color: #333;
  overflow: hidden;
}

/* Style the links inside the navigation bar */
.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

/* Change the color of links on hover */
.topnav a:hover {
  background-color: #ddd;
  color: black;
}

/* Add a color to the active/current link */
.topnav a.active {
  background-color: #04AA6D;
  color: white;
}	
.header {
  background-color: #04AA6D;
  color: white;
  text-align: center;		
}
h1 {
    padding:0;
    margin:0;
}	
img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%;
  padding-top: 10px;
}
	
</style>
</head>
<body>
<div class="topnav">
  <a class="active" href="#home">Home</a>
  <a href="/embeddedchat.html">Phone</a>
  <a href="#chat">Chat</a>
</div>
	
<div>
<img src="http://picnicenglish.com/wp-content/uploads/2016/10/cat-typing-picnic.jpg">
</div>

<script type='text/javascript'>
	var today = new Date();
	  var day = today.getDay();
	  var daylist = ["Sunday","Monday","Tuesday","Wednesday ","Thursday","Friday","Saturday"];
	  console.log("Today is : " + daylist[day] + ".");
	  if(daylist[day]!="" && daylist[day]!="Sunday"){
	  var hour = today.getHours();

	  console.log("Hour is : " + hour + ".");

	  if(hour>="8" && (hour<="17")){
		function initEmbeddedMessaging() {
			try {
				embeddedservice_bootstrap.settings.language = 'en'; // For example, enter 'en' or 'en-US'

				embeddedservice_bootstrap.init(
					'00Di0000000imEJ',
					'DP_Chat',
					'https://softerware.my.salesforce.com',
					{
						scrt2URL: 'https://softerware.my.salesforce-scrt.com'
					}
				);
			} catch (err) {
				console.error('Error loading Embedded Messaging: ', err);
			}
		};
	  }
  	}

</script>
<script type='text/javascript' src='https://service.force.com/embeddedservice/asyncclient/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
	
	<style type='text/css'>
	.embeddedServiceHelpButton .helpButton .uiButton {
		background-color: #005290;
		font-family: "Arial", sans-serif;
	}
	.embeddedServiceHelpButton .helpButton .uiButton:focus {
		outline: 1px solid #005290;
	}
</style>

<script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
<script type='text/javascript'>
	var initESW = function(gslbBaseURL) {
		embedded_svc.settings.displayHelpButton = false; //Or false
		embedded_svc.settings.language = 'en-US'; //For example, enter 'en' or 'en-US'

		//embedded_svc.settings.defaultMinimizedText = '...'; //(Defaults to Chat with an Expert)
		//embedded_svc.settings.disabledMinimizedText = '...'; //(Defaults to Agent Offline)

		//embedded_svc.settings.loadingText = ''; //(Defaults to Loading)
		//embedded_svc.settings.storageDomain = 'yourdomain.com'; //(Sets the domain for your deployment so that visitors can navigate subdomains during a chat session)

		// Settings for Chat
		//embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
			// Dynamically changes the button ID based on what the visitor enters in the pre-chat form.
			// Returns a valid button ID.
		//};
		
		embedded_svc.settings.prepopulatedPrechatFields = {
            FirstName: "Laura",//sessionStorage.getItem("full_name"),
            LastName: "Smith",
            Email: "lsmith@softerware.com",
            Client_ID__c: "someid" //sessionStorage.getItem("ezcareid")
        };

        embedded_svc.settings.extraPrechatFormDetails = [{
            "label": "First Name",
            "displayToAgent": true,
            "transcriptFields": ["Chat_First_Name__c"]
        }, {
            "label": "Last Name",
            "displayToAgent": true,
            "transcriptFields": ["Chat_Last_Name__c"]
        }, {
            "label": "Email",
            "displayToAgent": true,
            "transcriptFields": ["Chat_Email__c"]
        }, {
            "label": "Client ID",
            "displayToAgent": true,
            "transcriptFields": ["Chat_Client_ID__c"]
        }];
		//embedded_svc.settings.fallbackRouting = []; //An array of button IDs, user IDs, or userId_buttonId
		//embedded_svc.settings.offlineSupportMinimizedText = '...'; //(Defaults to Contact Us)

		embedded_svc.settings.enabledFeatures = ['LiveAgent'];
		embedded_svc.settings.entryFeature = 'LiveAgent';

		embedded_svc.init(
			'https://softerware--full.my.salesforce.com',
			'https://full-softerware.cs193.force.com/ESWDPChat1655493128387vforcesite',
			gslbBaseURL,
			'00D7e00000GLPyM',
			'Embedded_DP_Chat',
			{
				baseLiveAgentContentURL: 'https://c.la3-c1cs-ia5.salesforceliveagent.com/content',
				deploymentId: '57231000000W7bd',
				buttonId: '57331000000WBbV',
				baseLiveAgentURL: 'https://d.la3-c1cs-ia5.salesforceliveagent.com/chat',
				eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I7e0000008OTXEA2_18337d9c55e',
				isOfflineSupportEnabled: false
			}
		);
	};

	if (!window.embedded_svc) {
		var s = document.createElement('script');
		s.setAttribute('src', 'https://softerware--full.my.salesforce.com/embeddedservice/5.0/esw.min.js');
		s.onload = function() {
			initESW(null);
		};
		document.body.appendChild(s);
	} else {
		initESW('https://service.force.com');
	}
</script>
</body>
</html>

